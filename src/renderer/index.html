<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../components/battery/battery.css">
    <title>Electron åº”ç”¨</title>
    <style>
.pet {
    margin-top: 30px;
    position: relative;
    display: inline-block;
    -webkit-app-region: drag; /* âœ… æ•´ä½“é»˜è®¤å¯æ‹–åŠ¨ */
}

.speech-bubble {
    position: absolute;
    left: 42%;
    top: -18%;
    transform: translateX(-50%);
    width: 150px;
    background: rgba(255, 255, 255, 0.7); /* åŠé€æ˜ç™½è‰² */
    backdrop-filter: blur(6px);           /* æ¯›ç»ç’ƒæ¨¡ç³ŠèƒŒæ™¯ */
    -webkit-backdrop-filter: blur(6px);
    padding: 10px 16px;
    border-radius: 14px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
    font-size: 14px;
    font-weight: 500;
    color: #333;
    line-height: 1.5;
    z-index: 10;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.4s ease, transform 0.3s ease;
}

/* ä¸‰è§’ç®­å¤´ - æ›´æŸ”å’Œ */
.speech-bubble::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border-width: 8px;
    border-style: solid;
    border-color: rgba(255, 255, 255, 0.7) transparent transparent transparent;
    filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.05));
}

.petImageContainer {
  width: 200px;
  height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  position: relative;
}

.petImage {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  transition: transform 0.3s ease;
  z-index: 1;
}

.petImage.gif-size {
    width: 120px;
    height: auto;
}

/* åœ†ç‚¹çˆ¶å®¹å™¨ */
.functions {
    position: absolute;
    left: 80%; /* è®©åœ†ç‚¹é å³ */
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    gap: 18px;
    opacity: 0; /* åˆå§‹éšè— */
    transition: opacity 0.3s ease;
    z-index: 10;
}

.functions.hidden {
    opacity: 0 !important;
    pointer-events: none !important; /* å¼ºåˆ¶éšè—ä¸”ä¸å¯äº¤äº’ */
}

/* å°åœ†ç‚¹æ ·å¼ */
.functions div {
    width: 30px;
    height: 30px;
    background-color: grey;
    border-radius: 50%;
    cursor: pointer;
    -webkit-app-region: no-drag;
}

.pet-energy-container {
    -webkit-app-region: no-drag; /* âœ… å¯ç‚¹å‡»ï¼ˆç”µæ± ä¸è¯¯è§¦ï¼‰ */
}

/* æ‚¬åœæ—¶æ˜¾ç¤º */
.pet:hover > .functions {
    opacity: 1;
    pointer-events: auto; /* æ‚¬åœæ—¶å¯äº¤äº’ */
}

/*æ§åˆ¶å³é”®èœå•*/
.context-menu{
    position:absolute;
    z-index:9999;
    width:80px;
    background:white;
    border:1px solid #ccc;
    border-radius: 8px;
    padding: 2px 0;
    list-style:none;
    font-family: -apple-system, "Segoe UI", sans-serif;
    top: 60px;
    left:120px;
    font-size: 11px;
    display:none;
    -webkit-app-region: no-drag; /* âœ… å¯ç‚¹å‡»ï¼ˆç”µæ± ä¸è¯¯è§¦ï¼‰ */
}

.context-menu li {
  padding: 8px 8px;
  cursor: pointer;
}

.context-menu li:hover {
  background-color: #f0f0f0;
}



</style>
</head>
<body>
    <div class="pet">
        <div class="speech-bubble" id="speech-bubble">ä½ å¥½å•Šä¸»äºº</div>
        <div class="petImageContainer">
            <img class="petImage" src="../assets/Monkey.png">
        </div>
        <!-- ç”µæ± æ”¾åœ¨å›¾ç‰‡å†…éƒ¨ -->
        <div class="pet-energy-container">
            <p><span id="pet-energy">100</span></p>
            <div class="battery">
                <div class="battery-level" id="battery-level"></div>
            </div>
        </div>
        <div class="functions">
            <div class="chat"></div>
            <div class="record"></div>
            <div class="eat"></div>
            <div class="note"></div>
        </div>
        <ul id="custom-menu" class="context-menu">
            <li id="menu-info">ğŸ‘¤ä¸ªäººä¿¡æ¯</li>
            <li id="menu-setting">âš™ï¸è®¾ç½®</li>
            <hr>
            <li id="menu-exit">âŒé€€å‡º</li>
        </ul>
    </div>
    <script src="./renderer.js"></script>
    <script src="../components/battery/battery.js"></script>
    <script src="./menu.js"></script>
    <script src="../features/talk/talk.js"></script>
</body>
</html>

